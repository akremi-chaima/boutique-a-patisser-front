<section class="spad">
  <div class="form-card">
    <form [formGroup]="form" *ngIf="form">
      <div class="create-form">
        <div class="form-group mb-3">
          <label class="form-label">Nom:</label>
          <input type="text" class="form-control" formControlName="name" placeholder="XXXXX">
          <p class="error-message" *ngIf="formSubmitted && form.controls['name'].errors">{{ getError('name') }}</p>
        </div>

        <div class="form-group mb-3">
          <label class="form-label">Prix:</label>
          <input type="number" class="form-control" formControlName="price" placeholder="XXXXX">
          <p class="error-message" *ngIf="formSubmitted && form.controls['price'].errors">{{ getError('price') }}</p>
        </div>

        <div class="form-group mb-3">
          <label class="form-label">Sous collection:</label>
          <select class="form-select" formControlName="subCollectionId">
            <option *ngFor="let subCollection of subCollections" [value]="subCollection.id">{{ subCollection.collection.name + ' - ' + subCollection.name }}</option>
          </select>
          <p class="error-message" *ngIf="formSubmitted && form.controls['subCollectionId'].errors">{{ getError('subCollectionId') }}</p>
        </div>
        <div class="form-group mb-3">
          <label class="form-label">Cat√©gorie:</label>
          <select class="form-select" formControlName="categoryId">
            <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
          </select>
          <p class="error-message" *ngIf="formSubmitted && form.controls['categoryId'].errors">{{ getError('categoryId') }}</p>
        </div>

        <div class="form-group mb-3">
          <label class="form-label">Gout:</label>
          <select class="form-select" formControlName="flavourId">
            <option *ngFor="let flavour of flavours" [value]="flavour.id">{{ flavour.name }}</option>
          </select>
          <p class="error-message" *ngIf="formSubmitted && form.controls['flavourId'].errors">{{ getError('flavourId') }}</p>
        </div>

        <div class="form-group mb-3">
          <label class="form-label">Formats:</label>
          <input type="text" cols="40" rows="5" class="form-control" formControlName="formats" placeholder="XXXXXX">
          <p class="error-message" *ngIf="formSubmitted && form.controls['formats'].errors">{{ getError('formats') }}</p>
        </div>

        <div class="form-group mb-3">
          <label class="form-label">Description:</label>
          <textarea cols="40" rows="5" class="form-control" formControlName="description" placeholder="XXXXXX"></textarea>
          <p class="error-message" *ngIf="formSubmitted && form.controls['description'].errors">{{ getError('description') }}</p>
        </div>

        <div class="form-group mb-3">
          <div class="col-2 form-check form-switch mb-3">
            <input class="form-check-input" type="checkbox" id="isVisible" formControlName="isVisible">
            <label class="form-check-label" for="isVisible">Visible</label>
          </div>
        </div>

        <div class="row mt-3">
          <div class="col text-center">
            <button type="button" class="primary-btn" (click)="cancel()">Annnuler</button>
          </div>
          <div class="col text-center">
            <button type="submit" class="primary-btn" (click)="save()">Enregistrer</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</section>
